<?xml version="1.0" encoding="UTF-8"?>
<simulation id="LigandBindingExperiment" version="1" date="3/1/06">
    <name>&lt;b&gt; &lt;/b&gt;</name>
<!--    <intro filename=""/>-->
    <debugger state="off"/> 
    <steps>
              <step id="create">

            <actions>
                <action event="record light"/> 
               <action event="create" name="button" url="tools/button.swf"  x="25" y="400" xscale="1"  yscale="1"/>
                <action event="create" name="button2" url="tools/button.swf"  x="25" y="500" xscale="1"  yscale="1"/>
                <action event="create" name="bilayer" url="swfs/bilayer.jpg"  x="0" y="190" xscale="1.2"  yscale=".2"/>
                <action event="create" name="box1" url="tools/ligandBoxKDNEW.swf"  x="0" y="0" xscale="1"  yscale="1"/>   
                <action event="create" name="con3" url="tools/DisplayValue.swf"  x="200" y="410" xscale="1"  yscale="1"/>
                <action event="create" name="con1" url="tools/DisplayValue.swf"  x="200" y="430" xscale="1"  yscale="1"/> 
                <action event="create" name="con2" url="tools/DisplayValue.swf"  x="460" y="410" xscale="1"  yscale="1"/> 
                <action event="create" name="con0" url="tools/DisplayValue.swf"  x="460" y="430" xscale="1"  yscale="1"/> 
                <!--<action event="settimer" timer='12' advance='yes' />-->
            </actions>
             <objects>
                 <object name="theexplainer" state="visible"/>
                 <title>Equilibrium</title>
                 <text>&lt;br&gt;&lt;br&gt;&lt;br&gt;Equilibrium"
                 </text>
                <object name="userinput" state="hilight"/>
            </objects>
                  <nextbutton text="Begin Simulation" />
            <prevbutton text="Back" state="0"/>
              </step>
      
        <step id="startmolecules">
            <objects>
                <object name="theexplainer" state="visible">
                    <title>Your goal is to obtain experimental values of fractional saturation at different free ligand concentrations.</title>
                    <text>You can change the free ligand concentration by moving the slider to the desired amount of free ligand.  Moving the slider re-initializes the display and adds the requested amount of ligand to the beaker.

The output box "[L] in Bag @Equilibrium" gives the total amount of ligand in the dialysis bag when equilibrium is reached.

The simulation and graph will give you a rough estimate of the amount of ligand bound. However, you should use the output box to obtain your experimental values.</text>
                </object>
                <object name="bilayer" state="visible"/>
                <object name="box1" state="visible"/>
                <object name="button" state="visible"/>
            </objects>
            <actions> 
                <action event="initialize" name="box1" params="leftBorder=0,rightBorder=750,topBorder=0,bottomBorder=500,leftBorder2=0,rightBorder2=750,topBorder2=200,bottomBorder2=500">
                    <molecules>
                        <molecule numMolecules= "0"  injectionforce= "0" velocity= "50"  cast= "moleculeNAplus"  eq1="500" eq2="200"  angle1= "0" angle2= "355" x="250" y="50" Xoffset="60" Yoffset="60" rotationVelocity="30"  rotation="0"  polarity = "0,0,0,0,0,0,0,0" mytype="ligand"  myID="1"  mybounce="true" />  
                        <molecule numMolecules= "0" myID="0"/>     <!--This is a fudge if only one molecule-->            
                        <molecule numMolecules= "0"  injectionforce= "0" velocity= "90"  cast= "moleculewater"  eq1="500" eq2="200"  angle1= "30" angle2= "315" x="250" y="50" Xoffset="60" Yoffset="60" rotationVelocity="30"  rotation="0"  polarity = "0,0,0,0,.4,.4,.4,.4" mytype="ligand"  myID="2"  mybounce="true"/>
                   </molecules>
                </action>
                <action event="record all"/>
                <action event="initialize" name="con1" params="thevariable=con1_2,thelabel=[H2O] above,thevalue=0" /> 
                <action event="initialize" name="con0" params="thevariable=con0_2,thelabel=[H2O] below,thevalue=0" /> 
                <action event="initialize" name="con2" params="thevariable=con0_1,thelabel=[Na+] below,thevalue=0" /> 
                <action event="initialize" name="con3" params="thevariable=con1_1,thelabel=[Na+] above,thevalue=0" /> 
                <action event="initialize" name="button" data="Add Na+"/>  
                <action event="settimer" timer='3' advance='yes' />
            </actions>
            <nextbutton text="Done" state="0"/>
            <prevbutton text="Back" state="0"/>
        </step>
        <step id="begin action">           
            <actions>
                <action event="record light"/> 
                <action event="sendmessage" name="box1" params="msg=changeParam,param1=M+,param2=4,param3=1,x=250,y=50,Xoffset=50,Yoffset=50" />
                <action event="sendmessage" name="box1" params="msg=changeParam,param1=M+,param2=50,param3=2,x=250,y=50,Xoffset=50,Yoffset=50" />
                <action event="sendmessage" name="box1" params="msg=changeParam,param1=M+,param2=4,param3=1,x=150,y=400,Xoffset=50,Yoffset=50" />
                <action event="sendmessage" name="box1" params="msg=changeParam,param1=M+,param2=50,param3=2,x=150,y=400,Xoffset=50,Yoffset=50" />
            </actions>
            <objects>
                <object name="theexplainer" state="visible"/>
                <title>Equilibrium</title>
                <text>&lt;br&gt;&lt;br&gt;&lt;br&gt;Equilibrium"
                </text>
                <object name="bilayer" state="visible"/>
                <object name="box1" state="visible"/>
                <object name="con0" state="visible"/>
                <object name="con1" state="visible"/>
                <object name="con2" state="visible"/>
                <object name="con3" state="visible"/>
                <object name="button" state="visible"/>
            </objects>
            <nextbutton text="Begin Simulation" state="0"/>
            <prevbutton text="Back" state="0"/>
        </step>
        <step id="add Na ions">
            
            <actions>
                <action event="record light"/> 
                <action event="sendmessage" name="box1" params="msg=changeParam,param1=M+,param2=4,param3=1,x=250,y=50,Xoffset=50,Yoffset=50" />
            </actions>
            <objects>
                <object name="theexplainer" state="visible"/>
                <title>Equilibrium</title>
                <text>&lt;br&gt;&lt;br&gt;&lt;br&gt;Equilibrium"
                </text>
                <object name="bilayer" state="visible"/>
                <object name="box1" state="visible"/>
                <object name="con0" state="visible"/>
                <object name="con1" state="visible"/>
                <object name="con2" state="visible"/>
                <object name="con3" state="visible"/>
                <object name="button" state="visible"/>
            </objects>
            <nextbutton text="Begin Simulation" state="0"/>
            <prevbutton text="Back" state="0"/>
        </step>
        
    </steps>
</simulation>
