var theclock = getTimer();var tutorobjects = new Array();var inited = false;var questionText = "question";this.currentY = 50;var	hintText = new Array();var	feedback = new Array();function hideMTutor() {	logitem("closeTutor","name="+tutors[currentScene]+"&ident="+this.saveMyTutorObj.questestinterop.item.ident);	shell._visible=false;	radio1._visible=false;	radio2._visible=false;	radio3._visible=false;	radio4._visible=false;	submit._visible=false;	playSwf._visible=true;	for (item in tutorobjects)	{		tutorobjects[item]._visible = false;	}	this.textmask.close();	_root.animask.open();	this.menu.setmenuicon(tutorScene,1); //mark this menu item as having a tutor.}function showMTutor() {	_root.animask.close();	shell._visible=true;	radio1._visible=true;	radio2._visible=true;	radio3._visible=true;	radio4._visible=true;	submit._visible=true;	playSwf._visible=false;	for (item in tutorobjects)	{		tutorobjects[item]._visible = true;	}}function resetMTutor() {	   // reset shell   shell.CloseFeedbackWindow();   shell.CloseHintWindow();      // reset radio buttons   for (button in radioButtons) {       radioButtons[button].showNull();       radioButtons[button].selected = false;       radioButtons[button].isCorrect = false;       radioButtons[button].IsTheCorrectAnswer = false;       radioButtons[button].CorrectAnswerFeedback = "";       radioButtons[button].IncorrectAnswerFeedback = "";       radioButtons[button].Hints = new Array();   }   	_root.animask.close();	shell._visible=false;	radio1._visible=false;	radio2._visible=false;	radio3._visible=false;	radio4._visible=false;	submit._visible=true;	playSwf._visible=false;	for (item in tutorobjects)	{		delete tutorobjects[item];	}	answerText = new Array();	answerOrder = new Array();	hintText = new Array();	feedback = new Array();	shell.findNewFocus();}function buildMTutor() {	//trace("***buildMTutor");	//trace("question="+tutorXML.saveMyTutorObj.questestinterop.item.presentation.material.mattext._value );	//trace("response1 name="+tutorXML.saveMyTutorObj.questestinterop.item.presentation.response_lid.render_choice.response_label[0].ident);	//trace("response1="+tutorXML.saveMyTutorObj.questestinterop.item.presentation.response_lid.render_choice.response_label[0].material.mattext._value);	//trace("response1="+tutorXML.saveMyTutorObj.questestinterop.item.presentation.response_lid.render_choice.response_label[1].material.mattext._value);tutorScene = currentScene;resetMTutor();questionText = tutorXML.saveMyTutorObj.questestinterop.item.presentation.material.mattext._value;// set answer valuesnumberOfAnswers = tutorXML.saveMyTutorObj.questestinterop.item.presentation.response_lid.render_choice.response_label.length;//trace("numberOfAnswers="+numberOfAnswers);for (i=1; i<tutorXML.saveMyTutorObj.questestinterop.item.presentation.response_lid.render_choice.response_label.length+1;i++){this["myAnswer"+i+"Text"] = tutorXML.saveMyTutorObj.questestinterop.item.presentation.response_lid.render_choice.response_label[i-1].material.mattext._value;answerText.push(this["myAnswer"+i+"Text"]);answerOrder.push("text");}// set correct answer, hints, feedback, skillscorrectButton = 0;//trace("resprocessing.respcondition.length="+tutorXML.saveMyTutorObj.questestinterop.item.resprocessing.respcondition.length);for (i=0; i<tutorXML.saveMyTutorObj.questestinterop.item.resprocessing.respcondition.length;i++){//trace("correct score="+tutorXML.saveMyTutorObj.questestinterop.item.resprocessing.respcondition[i].setvar._value+"  i="+i);	if (tutorXML.saveMyTutorObj.questestinterop.item.resprocessing.respcondition[i].setvar._value>0) 	{		correctButton = i+1	}}	for (i=0;i<tutorXML.saveMyTutorObj.questestinterop.item.itemfeedback.length;i++) 	{		if (tutorXML.saveMyTutorObj.questestinterop.item.itemfeedback[i]["ident"]=="hint")		{			for (j=0;j<tutorXML.saveMyTutorObj.questestinterop.item.itemfeedback[i].hint.hintmaterial.length;j++)			{				hintText.push(tutorXML.saveMyTutorObj.questestinterop.item.itemfeedback[i].hint.hintmaterial[j].material.mattext._value);			}				}		if (tutorXML.saveMyTutorObj.questestinterop.item.itemfeedback[i]["ident"].indexOf("FeedBack")!=-1) {			feedback.push(tutorXML.saveMyTutorObj.questestinterop.item.itemfeedback[i].material.mattext._value);			//trace("showing feedback="+tutorXML.saveMyTutorObj.questestinterop.item.itemfeedback[i].material.mattext._value);		}			};skillText = "";// Diana - I use this along with a height-check function later on to see if there's more // content in the xml file than I want to display.  If the height of all the content// would be over 600, the tutor throws an error.allowableDocumentHeight = 600;// this is used to set the heights of the radio buttons later onanswerY = new Array();	// Make sure the init only ever runs once.	if (!inited) {		// Note that we've initialized the tutor.		//inited = true; always re-initialize		shell.WidgetOrder = new Array("radio1","radio2","radio3","radio4");		radioButtons = new Array(radio1,radio2,radio3,radio4);		tutorobjects = radioButtons;					setPosition();		}}function setPosition() {	var newobject:Object = new Object();i=0;		newobject = createTextField("questionTextbox"+i, 100+i, 15, 30, 620, 21);		tutorobjects.push(newobject);		_root["questionTextbox"+i].multiline = true;		_root["questionTextbox"+i].wordWrap = true;		_root["questionTextbox"+i].background = false;		_root["questionTextbox"+i].border = false;		_root["questionTextbox"+i].html = true;		_root["questionTextbox"+i].autoSize = true;		nodeFormat = new TextFormat();		nodeFormat.size = 12;		nodeFormat.font = "_sans";		_root["questionTextbox"+i].setNewTextFormat(nodeFormat);		_root["questionTextbox"+i].htmlText = "<font face='_sans'>" + questionText + "</font>";		currentY = newobject._height+40;		endOfQuestionY = currentY;	for (i=0; i<answerText.length; i=i+2) {			newobject = createTextField("answerTextbox"+i, 200+i, 15, 10, 330, 21);			tutorobjects.push(newobject);			newobject.multiline = true;			newobject.wordWrap = true;			newobject.background = false;			newobject.border = false;			newobject.html = true;			newobject.autoSize = true;			nodeFormat = new TextFormat();			nodeFormat.size = 12;			nodeFormat.font = "_sans";			newobject.setNewTextFormat(nodeFormat);			newobject._x = 30;			newobject._y = 20*i+70;//k			newobject.htmlText = "<font face='_sans'>" + answerText[i] + "</font>";			newobject._y = currentY;			prevObjHeight = newobject._height;			answerY[i] = currentY;			//trace("i="+i+" currentY="+currentY+"  newobject._x = "+newobject._x);		j=i+1;			newobject = createTextField("answerTextbox"+j, 200+j, 375, 10, 330, 21);//360->375			tutorobjects.push(newobject);			newobject.multiline = true;			newobject.wordWrap = true;			newobject.background = false;			newobject.border = false;			newobject.html = true;			newobject.autoSize = true;			nodeFormat = new TextFormat();			nodeFormat.size = 12;			nodeFormat.font = "_sans";			newobject.setNewTextFormat(nodeFormat);			newobject._x = 375;			newobject._y = 20*i+70;			newobject.htmlText = "<font face='_sans'>" + answerText[j] + "</font>";			newobject._y = currentY;			answerY[j] = currentY;			currentY = currentY+Math.max(prevObjHeight,newobject._height)+20;			//trace("j="+j+"  currentY="+currentY+"  newobject._x = "+newobject._x);				}	// set y values for radio buttons	radio1._y = endOfQuestionY;	radio2._y = endOfQuestionY;	radio3._y = answerY[2];	radio4._y = answerY[2];		radio1._x = 15;	radio2._x = 360;	if (numberOfAnswers>2) 		{			radio3._x = 15		} else 		{			radio3._x = 2015		};	if (numberOfAnswers>3) 		{			radio4._x = 360		} else 		{			radio4._x = 2360		};	// check height of the tutor movie	flashMovieHeight = 238;	shell.TutorHeight = 238;	documentHeight = 238;		// assign content to radio button widgets		for (i=0; i<radioButtons.length; i++) {			theButtonNumber = radioButtons[i]._name.substring(5, 6);			if (theButtonNumber == correctButton) {				radioButtons[i].IsTheCorrectAnswer = true;//				trace("radio=="+radioButtons[i].CorrectAnswerFeedback);				radioButtons[i].CorrectAnswerFeedback = feedback[i];			} else {				radioButtons[i].IncorrectAnswerFeedback = feedback[i];			}			radioButtons[i].Hints = hintText;			radioButtons[i].Skill = skillText;		}		// must call findNewFocus in order to get the shell to recognize the new hints we just set		shell.findNewFocus();}function LoadTutor() {	this.saveMyTutorObj = tutorXML.object;	//trace("loadTutor"+"   ,   "+"name="+tutors[currentScene]+"&ident="+this.saveMyTutorObj.questestinterop.item.ident);	   	logitem("loadTutor","name="+tutors[currentScene]+"&ident="+this.saveMyTutorObj.questestinterop.item.ident);	buildMTutor();	showMTutor();}