<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Insert title here</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
<script>

	var launch = function(){
		var session_id="d62e0111-a494-4d5c-1bbc-3ec5b1bd2088";
		var settings = {
				  "async": true,
				  "crossDomain": true,
				  "url": "http://localhost:8080/SimStudentServlet/serv",
				  "method": "POST",
				  "headers": {
				    "content-type": "application/xml"
				  },
					//Step 1: Initialization
					"data": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?><message><verb>NotePropertySet</verb><properties><MessageType>SetPreferences</MessageType><log_service_url>http:pslc-qa.andrew.cmu.edu/log/server</log_service_url><log_to_remote_server>false</log_to_remote_server><log_to_disk>false</log_to_disk><log_to_disk_directory>.</log_to_disk_directory><user_guid>qa-test</user_guid><problem_name>xxx</problem_name><Argument>-traceOn -folder informallogic -problem if_p_or_q_then_r -ssTypeChecker informallogic.MyFeaturePredicate.valueTypeChecker</Argument><question_file>http://localhost:8080/SimStudentServlet/if_p_or_q_then_r.brd</question_file><class_name>Default Class</class_name><school_name>none</school_name><instructor_name>none</instructor_name><session_id>"+session_id+"</session_id><source_id>PACT_CTAT_HTML5</source_id><sui>undefined</sui><problem_state_status>empty</problem_state_status><back_dir>http://localhost:8080/SimStudentServlet/build/classes</back_dir><back_entry>interaction.ModelTracerBackend</back_entry><wmes><value>not_file1</value><value>not_file_2</value></wmes><skills><skill category=\"fraction-addition\" description=\"add-numerators\" label=\"add-numerators\" name=\"add-numerators\" pGuess=\"0.15\" pKnown=\"0.2\" pLearn=\"0.25\" pSlip=\"0.3\"/><skill category=\"fraction-addition\" description=\"multiply-denominators\" label=\"multiply-denominators\" name=\"multiply-denominators\" pGuess=\"0.15\" pKnown=\"0.98\" pLearn=\"0.25\" pSlip=\"0.3\"/><skill category=\"fraction-addition\" description=\"convert-numerator\" label=\"convert-numerator\" name=\"convert-numerator\" pGuess=\"0.15\" pKnown=\"0.1\" pLearn=\"0.25\" pSlip=\"0.3\"/><skill category=\"fraction-addition\" description=\"determine-lcd\" label=\"determine-lcd\" name=\"determine-lcd\" pGuess=\"0.15\" pKnown=\"0.6\" pLearn=\"0.25\" pSlip=\"0.3\"/></skills><CommShellVersion>3.2.0</CommShellVersion></properties></message>"

				}

				$.ajax(settings).done(function (response) {
				  var settings2 = {
						"async": true,
					  "crossDomain": true,
					  "url": "http://localhost:8080/SimStudentServlet/serv",
					  "method": "POST",
					  "headers": {
					    "content-type": "application/xml"
					  },
						//Step2: MessageBundle request
						"data": "<MessageBundle><message><verb>NotePropertySet</verb><properties><MessageType>InterfaceAttribute</MessageType><component>hint</component><background_color>#ffffff</background_color><border_color>#999999</border_color><border_style>solid</border_style><border_width>1px</border_width><enabled>true</enabled><font_color>#000000</font_color><font_size>12</font_size><height>66</height><hint_highlight>false</hint_highlight><text>undefined</text><width>65</width><x_coor>638</x_coor><y_coor>166</y_coor><session_id>"+session_id+"</session_id></properties></message><message><verb>NotePropertySet</verb><properties><MessageType>InterfaceAttribute</MessageType><component>ans_table_c5</component><background_color>#ffffff</background_color><border_color>#999999</border_color><border_style>solid</border_style><border_width>1px</border_width><enabled>true</enabled><font_color>#000000</font_color><font_size>12</font_size><height>22</height><hint_highlight>false</hint_highlight><text></text><width>82</width><x_coor>339</x_coor><y_coor>289</y_coor><session_id>"+session_id+"</session_id></properties></message><message><verb>NotePropertySet</verb><properties><MessageType>InterfaceAttribute</MessageType><component>prob_table_c5</component><background_color>#ffffff</background_color><border_color>#999999</border_color><border_style>solid</border_style><border_width>1px</border_width><enabled>true</enabled><font_color>#000000</font_color><font_size>12</font_size><height>22</height><hint_highlight>false</hint_highlight><text></text><width>82</width><x_coor>390</x_coor><y_coor>198</y_coor><session_id>"+session_id+"</session_id></properties></message><message><verb>NotePropertySet</verb><properties><MessageType>InterfaceAttribute</MessageType><component>ans_table_c6</component><background_color>#ffffff</background_color><border_color>#999999</border_color><border_style>solid</border_style><border_width>1px</border_width><enabled>true</enabled><font_color>#000000</font_color><font_size>12</font_size><height>22</height><hint_highlight>false</hint_highlight><text></text><width>82</width><x_coor>439</x_coor><y_coor>289</y_coor><session_id>"+session_id+"</session_id></properties></message><message><verb>NotePropertySet</verb><properties><MessageType>InterfaceAttribute</MessageType><component>prob_table_c6</component><background_color>#ffffff</background_color><border_color>#999999</border_color><border_style>solid</border_style><border_width>1px</border_width><enabled>true</enabled><font_color>#000000</font_color><font_size>12</font_size><height>22</height><hint_highlight>false</hint_highlight><text></text><width>82</width><x_coor>480</x_coor><y_coor>198</y_coor><session_id>"+session_id+"</session_id></properties></message><message><verb>NotePropertySet</verb><properties><MessageType>InterfaceAttribute</MessageType><component>ans_table_c2</component><background_color>#ffffff</background_color><border_color>#999999</border_color><border_style>solid</border_style><border_width>1px</border_width><enabled>true</enabled><font_color>#000000</font_color><font_size>12</font_size><height>22</height><hint_highlight>false</hint_highlight><text></text><width>82</width><x_coor>39</x_coor><y_coor>289</y_coor><session_id>"+session_id+"</session_id></properties></message><message><verb>NotePropertySet</verb><properties><MessageType>InterfaceAttribute</MessageType><component>done</component><background_color>#ffffff</background_color><border_color>#999999</border_color><border_style>solid</border_style><border_width>1px</border_width><enabled>true</enabled><font_color>#000000</font_color><font_size>12</font_size><height>65</height><hint_highlight>false</hint_highlight><text>undefined</text><width>65</width><x_coor>638</x_coor><y_coor>256</y_coor><session_id>"+session_id+"</session_id></properties></message><message><verb>NotePropertySet</verb><properties><MessageType>InterfaceAttribute</MessageType><component>hintWin</component><background_color>#ffffff</background_color><border_color>#999999</border_color><border_style>solid</border_style><border_width>1px</border_width><enabled>true</enabled><font_color>#000000</font_color><font_size>12</font_size><height>99</height><hint_highlight>false</hint_highlight><text></text><width>447</width><x_coor>27</x_coor><y_coor>329</y_coor><session_id>"+session_id+"</session_id></properties></message><message><verb>NotePropertySet</verb><properties><MessageType>InterfaceAttribute</MessageType><component>prob_table_c1</component><background_color>#ffffff</background_color><border_color>#999999</border_color><border_style>solid</border_style><border_width>1px</border_width><enabled>true</enabled><font_color>#000000</font_color><font_size>12</font_size><height>22</height><hint_highlight>false</hint_highlight><text></text><width>82</width><x_coor>30</x_coor><y_coor>198</y_coor><session_id>"+session_id+"</session_id></properties></message><message><verb>NotePropertySet</verb><properties><MessageType>InterfaceAttribute</MessageType><component>ans_table_c3</component><background_color>#ffffff</background_color><border_color>#999999</border_color><border_style>solid</border_style><border_width>1px</border_width><enabled>true</enabled><font_color>#000000</font_color><font_size>12</font_size><height>22</height><hint_highlight>false</hint_highlight><text></text><width>82</width><x_coor>139</x_coor><y_coor>289</y_coor><session_id>"+session_id+"</session_id></properties></message><message><verb>NotePropertySet</verb><properties><MessageType>InterfaceAttribute</MessageType><component>prob_table_c2</component><background_color>#ffffff</background_color><border_color>#999999</border_color><border_style>solid</border_style><border_width>1px</border_width><enabled>true</enabled><font_color>#000000</font_color><font_size>12</font_size><height>22</height><hint_highlight>false</hint_highlight><text></text><width>82</width><x_coor>120</x_coor><y_coor>198</y_coor><session_id>"+session_id+"</session_id></properties></message><message><verb>NotePropertySet</verb><properties><MessageType>InterfaceAttribute</MessageType><component>prob_table_c3</component><background_color>#ffffff</background_color><border_color>#999999</border_color><border_style>solid</border_style><border_width>1px</border_width><enabled>true</enabled><font_color>#000000</font_color><font_size>12</font_size><height>22</height><hint_highlight>false</hint_highlight><text></text><width>82</width><x_coor>210</x_coor><y_coor>198</y_coor><session_id>"+session_id+"</session_id></properties></message><message><verb>NotePropertySet</verb><properties><MessageType>InterfaceAttribute</MessageType><component>ans_table_c4</component><background_color>#ffffff</background_color><border_color>#999999</border_color><border_style>solid</border_style><border_width>1px</border_width><enabled>true</enabled><font_color>#000000</font_color><font_size>12</font_size><height>22</height><hint_highlight>false</hint_highlight><text></text><width>82</width><x_coor>239</x_coor><y_coor>289</y_coor><session_id>"+session_id+"</session_id></properties></message><message><verb>NotePropertySet</verb><properties><MessageType>InterfaceAttribute</MessageType><component>prob_table_c4</component><background_color>#ffffff</background_color><border_color>#999999</border_color><border_style>solid</border_style><border_width>1px</border_width><enabled>true</enabled><font_color>#000000</font_color><font_size>12</font_size><height>22</height><hint_highlight>false</hint_highlight><text></text><width>82</width><x_coor>300</x_coor><y_coor>198</y_coor><session_id>"+session_id+"</session_id></properties></message></MessageBundle>"
					}
					$.ajax(settings2).done(function (response) {
						alert("The SimStudentServlet is now ready to serve the edX. Session id is:"+session_id);
					});
				});
	};

</script>

</head>
<body>
	This page fires 2 requests in order to start the SimStudentServer for the edX to work on:
	1. Initialization request
	2. MessageBundle request
	<br>
	<button onclick="launch()">Launch</button>
</body>
</html>